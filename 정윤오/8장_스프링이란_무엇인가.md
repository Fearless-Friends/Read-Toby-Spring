# 목차    
- [8. 스프링이란 무엇인가?](8.-스프링이란-무엇인가?)
    - [8.1 스프링의 정의](8.1-스프링의-정의)
    - [8.2 스프링의 목적](8.2-스프링의-목적)
    - [8.3 POJO 프로그래밍](8.3-POJO-프로그래밍)
    - [8.4 스프링의 기술](8.4-스프링의-기술)

# **8. 스프링이란 무엇인가?**
스프링은 기본적으로 IoC와 DI를 위한 컨테이너로 동작하지만 스프링은 IoC/DI 프레임워크라고 할 수는 없다.      
이 이상으로 다양한 종류의 기술에 관여하기 때문이다.         
스프링이 만들어진 이유와 목적, 추구하는 가치는 무엇일까?        

<BR>

## **8.1 스프링의 정의**
이에 앞서, 알려진 스프링의 정의는 다음과 같다.      

> **자바 엔터프라이즈 개발을 편하게 해주는 오픈소스 경량급 애플리케이션 프레임워크**        

위 단어를 하나씩 풀어서 보도록 하자.        

<BR>

### **애플리케이션 프레임워크**
일반적인 라이브러리, 프레임워크는 특정 업무 분야나 한 가지 기술에 특화된 목표를 가지고 제작된다.        
스프링은 **"애플리케이션 프레임워크"** 이니 특정 계층이 아닌 애플리케이션 전 영역을 포괄하는 범용적인 프레임워크라는 의미이다.      
MVC, JDBC/ORM 지원, AOP, IoC/DI 기능 등은 스프링이 다루는 기능 중 일부일 뿐이다.        

<BR>

----
### **잡다한 이야기**
스프링의 기원은 J2EE에 딸린 예제 코드였는데, 로드 존슨이 자바 엔터프라이즈 개발에 관해 J2EE 애플리케이션 설계와 개발에 대한 개발 전략을 다룬 책이다.        
책은 단순 설명에서 그치지 않고, 그 개념을 증명할 수 있도록 만들어진 약 3만라인 갸량의 샘플 애플리케이션 형태로 제공되었다.       
이 책에서 항상 강조한 전략은 "프레임워크 기반으로 접근하라"는 것이었다.     

독자들은 이를 예제 수준으로 두기 아깝다고 생각을 했고, 이를 발전시켜서 지속적으로 개발하자는 의견을 냈다.       
로드 존슨도 이에 동의했고, 이렇게 출발해서 등장한것이 지금 스프링의 원시 버전이다.

----

<BR>

### **경량급**
사실 스프링은 절대적으로 가볍지는 않다.     
20개의 모듈로 세분화되고, 수십만 라인의 코드를 가진 매우 복잡하고 방대한 규모의 프레임워크이다.         
이는 상대적으로 EJB에 비해 가벼움을 의미한다.       
과거에 EJB까 동적하려면 고가의 WAS가 필요했으나, 스프링의 등장으로 가장 단순한 서버 환경인 Tomcat이나 Jetty에서도 완벽하게 동작할 수 있게 되었다.       

<BR>

### **자바 엔터프라이즈 개발을 편하게**
이는 EJB도 동일하게 추구했던 가치이다.      
다만, EJB는 엔터프라이즈 개발의 고민거리와 부담을 덜어냄과 동시에 다른 차원의 복잡함을 애플리케이션 개발에 끌고 들어오는 실수를 했었다.         
반면에 스프링은 스프링이라는 프레임워크에 대한 이해보단 자신들이 작성하는 애플리케이션 로직에 더 많은 관심과 시간을 쏟을 수 있게 만들어주었다.      
초기 설정만 잘 해두면, 이후에 많은 관심을 쏟을 필요성은 덜어낸 것이다.      
이로 인해 대부분의 개발자들이 스프링을 쓰지 않았을 때 애플리케이션 개발을 어떻게 했었는지 상상이 안된다는 이야기를 하는 것이다.     

<BR>

### **오픈소스**
스프링은 오픈소스 프로젝트 방식으로 개발되었는데, 모두에게 공개되고, 자유롭게 수정할 수 있다는 장점이 있다.         
그러나 오픈소스 프로젝트의 경우 개발자 개개인에 의존하기 때문에 언제든지 프로젝트가 중단될 수 있다는 리스크가 존재한다.         
이를 해결하고자 오픈소스 프로젝트지만, 이를 개발하는 인력은 정해져있는 형태로 개발이 진행되어 왔다. 덕분에 안정적인 품질 관리가 가능해졌다.     

<BR>

## **8.2 스프링의 목적**
스프링의 목적이 무엇일까?       
엔터프라이즈 애플리케이션을 스프링을 통해 편하게 하려는 이유는 무엇일까?        
엔터프라이즈 개발이란 원래 편하지 않다.     
복잡한 엔터프라이즈 개발의 원인에 대해 알아보자.        

<BR>

### **엔터프라이즈 개발의 복잡한 근본적인 이유**
- 기술적 제약 조건과 요구사항이 지속적으로 늘어감  
- 비즈니스 로직의 복잡도가 증가

단순 로직 뿐 아니라, 방대한 트래픽을 대응할 아키텍쳐도 적용해야 하고, 서버의 자원도 관리해야하며 금융, 원자력, 항공 등에 적용하기 위한 고도의 보안 시스템도 필요하다.       
단순히 로직만 개발해서 되는 것이 아니기 때문이다.       
이전에는 단순 회계처럼 복잡한 계산이나 빠른 분석 작업이 필요한 경우에만 이용했다면, 이제는 세상의 모든 것을 IT 시스템으로 전환하고자 하고 있기 때문이다.        

<BR>

### **EJB와 스프링**
이를 해결하고자 초기에 뛰어든 것이 EJB이다, EJB는 실제로 엔터프라이즈 개발을 편리하게 만들었다. 비즈니스 로직에 집중할 수 있게 만들었기 때문이다.       
하지만, 이 환경에서 동작하기 위해 특정 인터페이스를 구현하고, 특정 클래스를 상속하여 더이상 상속이 불가능하게 만들고, 서버 종속적인 서비스를 통해서만 접근이 가능하게 했다.        
한마디로 EJB 환경과 스펙에 매우 종속적인 개발이었기 때문이다.           

반면에 스프링은 비침투적인 방식을 택하여 위와 같은 목적을 달성시켰다.       
스프링도 역시 엔터프라이즈 개발을 편리하게 만들었고, EJB와 다른점은 스프링을 적용했을 때 소스코드에 스프링과 관련된 인터페이스, API 등이 마구 등장하지 않았다는 점이다.     
이를 통해 복잡한 비즈니스 로직과 기술적 복잡성을 분리할 수 있었던 것이다.      
이와 더불어 비즈니스 로직에만 집중할 수 있는 환경이 열린것이다.      
이것이 스프링의 성공 비결이다.          

<BR>

### **핵심 도구: 객체지향과 DI**
기술과 비즈니스 로직의 복잡함을 해결하는데 스프링은 객체지향을 이용한다.        
EJB는 이 장점을 취하지 못하게 되면서 특정 기술 스펙에 종속적이라는 비판을 받았다.       

스프링의 기본 모토는 "기본으로 돌아가자" 이다.      
객체지향을 보다 잘 적용하기 위해 DI와 같은 유용한 기술을 편하게 적용하도록 도와주는 것이다.     

<BR>

## **8.3 POJO 프로그래밍**      
Plain Old Java Object, 간단히 POJO는 말 그대로 해석을 하면 오래된 방식의 간단한 자바 오브젝트라는 말로서 Java EE 등의 중량 프레임워크들을 사용하게 되면서 해당 프레임워크에 종속된 "무거운" 객체를 만들게 된 것에 반발해서 사용되게 된 용어이다.        

가볍게 개발하는 것을 다시 말하면, 특정 기술에 종속적이지 않은 프로그래밍을 의미한다.     

스프링의 주요 기술인 IoC/DI, AOP와 PSA(Portable Service Abstraction)는 애플리케이션으로 POJO로 개발할 수 있게 하는 기술이라 불린다.         

PSA는 환경의 변화와 관계없이 일관된 방식의 기술로의 접근 환경을 제공하는 추상화 구조를 말한다.      

<BR>

### **POJO의 조건** 
- 특정 규약에 종속되지 않는다.
- 특정 환경에 종속되지 않는다.      
- 객체지향 원리에 충실하게 만들어져야한다.

위 조건은 곧 장점으로 이어지게 된다.        
프레임워크의 규약, 개발 환경에 종속적이지 않다는 것을 의미하기 때문이다.        

<BR>

## **8.4 스프링의 기술**        
POJO 방식의 애플리케이션 개발을 가능하게 하고자 스프링과 같은 POJO 프레임워크가 필요하다.       
이를 가능하게 하기 위해 뒷받침 되는 기술이 바로 앞에서 언급한 IoC/DI, AOP, PSA이다.     

<BR>

### **IoC / DI**
DI의 활용 방법으로 다음과 같은 것들이 있다.
- 핵심 기능의 변경
    - 인터페이스를 이용해 구현체를 필요에따라 통째로 변경할 수 있다.
- 핵심 기능의 동적 변경 
    - 위의 사례는 정적인 변경이라면, 동적으로 의존 대상을 다이나믹하게 변경할 수 있다.      
- 부가 기능의 추가
    - 트랜잭션 적용 과정이 예가 될 수 있다.
    - 이를 일반화하여 적용한 기술이 AOP이다.
- 인터페이스의 변경
    - 예를들어, A가 새로운 C오브젝트를 사용하려 한다고 했을 때, A는 B인터페이스를 바라보고 있는 구조라고 해보자.
    - 이 때 A가 DI를 통해 B인터페이스를 구현한 구현체 중 C를 내부적으로 호출하는 오브젝트를 주입받는다면, A의 코드 변경 없이 그대로 C를 이용할 수 있게된다.
- 프록시
    - 필요한 시점에 오브젝트를 초기화하고 리소스를 사용하는 지연 로딩 등에 이용된다.        
- 템플릿/콜백
    - 콜백을 템플릿에 주입하여 재사용 하는 등 유연한 확장을 보여준다.       
- 싱글톤/오브젝트 스코프
    - 스프링 컨테이너는 싱글톤으로 오브젝트를 만들어서 오브젝트의 생명 주기를 조절한다.
- 테스트
    - Mock Object 등을 주입시켜서 독립적인 테스트 모듈을 만드는 작업 등이 가능하다.     

<BR>

### **AOP**     
AOP 적용 기법에 대해 알아보자.      
- 다이나믹 프록시
    - 기존 코드에 영향을 주지 않고 AOP를 적용하는 방법이다.
    - 단, 메소드의 호출이 일어나는 지점에만 부여할 수 있다는 한계가 있다.
- 외부 도구 이용
    - AspectJ를 이용하여 인스턴스 생성, 필드 액세스 등 다양한 조인 포인트에 적용할 수 있다.
    - 이는 프록시 방식이 아닌, 메모리로 로딩 될 때 바이트 코드를 조작하는 형태로 동작하게된다.

<BR>

AOP의 적용 단계에 대해 알아보자.    
- 1단계 : 이미 존재하는 AOP 이용
    - 트랜잭션과 같이 스프링이 직접 제공하는 AOP를 적용하는 것이다.
- 2단계 : 정책 AOP 적용
    - 로깅, 보안, 데이터 트레이싱, 실시간 모니터링 등에 적용하기
    - 정책적으로 프로젝트 전체에 적용할 수 있는 부분 위주로 개발하는 것이다.    
- 3단계 : 자유로운 이용
    - 특정한 원하는 구간에 커스텀 AOP를 직접 개발해서 적용하기

<BR>

### **PSA**
환경과 세부 기술의 변화에 관계없이 일관된 방식으로 기술에 접근할 수 있게 해주는 PSA에 대해 알아보자.        

스프링은 JavaEE를 기본 플랫폼으로 하는 자바 엔터프라이즈 개발에 주로 사용된다.      
따라서 어느정도 이에 의존적일 수 밖에 없다.     
하지만 PSA는 특정 기술을 이용하지 않는다는 것을 의미하지는 않는다.      
추상화를 통해 POJO 코드가 특정 기술에 노출되어 만들어지지 않는 것을 의미한다.       

