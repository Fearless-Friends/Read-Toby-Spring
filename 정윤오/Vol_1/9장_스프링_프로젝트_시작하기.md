# 목차    
- [9. 스프링 프로젝트 시작하기](9.-스프링-프로젝트-시작하기)
    - [9.3 애플리케이션 아키텍쳐](9.3-애플리케이션-아키텍쳐)

<BR>

## **9.3 애플리케이션 아키텍쳐**

### **계층형 아키텍쳐**
애플리케이션을 구성하는 오브젝트들을 비슷한 성격과 책임을 가진 것들끼리 묶을 수 있다.       
관심, 책임, 성격, 변하는이유와 방식이 서로 다른 것들을 분리함으로써 분리된 각 요소의 응집도를 높이고, 결합도를 낮추어 보다 유연한 코드를 만들도록 한다.         

주로 크게 3가지로 나눈다.   
- **프레젠테이션 계층**
    - 웹 계층
    - UI 계층
    - MVC 계층
- **서비스 계층**
    - 매니저 계층
    - 비즈니스 로직 계층
- **데이터 액세스 계층**
    - DAO 계층
    - Enterprise Information System 계층

### **계층형 아키텍쳐 설계 원칙**
> 각 계층은 자신의 책임에만 충실해야 한다.      

흔히 저지르는 실수는 아래와 같은 것들이 있다.

- Service Layer에서 DAO를 호출 했을 때, ResultSet과 같이 JDBC에 종속적인 Object를 return 한다면 이를 처리하는 로직이 Service Layer에 넘어오게 되면서 각 모듈간 경계가 흐져리게 될 것이다.
- 프레젠테이션 계층의 오브젝트(HttpServletRequest)를 그대로 서비스 계층에 파라미터로 전달하는 경우, 클라이언트가 변경됨에 따라 기존 서비스 코드를 재사용하지 못하는 경우가 발생할 수 있다.      

<BR>

### **애플리케이션 정보 아키텍쳐**
크게 엔터프라이즈 시스템은 아래와 같은 구조로 설계된다. 

1. DB/SQL 중심의 로직 구현
    - 로직간의 강한 결합
    - 소스코드 수정 난이도 높음
    - 데이터를 운반하기 위한 interface 역할
2. 거대한 서비스 계층 방식
    - JAVA 언어의 장점(객체지향)을 활용 가능
    - 각 단위 업무별로 독립적인 개발이 가능하므로 개발 속도가 빠르다

<BR>

### **오브젝트 중심 아키텍쳐**
각 계층간에 정보를 전달하기 위한 오브젝트를 구성하고, 이를 토대로 작동하는 구조.        
"도메인"에 집중하고 객체지향적인 설계가 잘 표현되어있는 구조이다.       

크게 두가지 형태의 도메인 오브젝트가 존재한다.

1. 빈약한 도메인 오브젝트
    - 내부에 기능을 보유하지 않은 Data Class
2. 풍성한 도메인 오브젝트
    - 도메인에서 처리할 수 있는 로직을 보유하고 있는 오브젝트

도메인은 Bean이 아니기 때문에 DI받을 수 없음, 그리고 상태를 가짐.       
도메인 오브젝트를 토대로 비즈니스 로직을 처리하기 위해 ORM을 이용하는것이 이상적.   

서비스 계층과 데이터 액세스 계층은 도메인 오브젝트를 통해,      
프레젠테이션 계층과는 DTO를 이용하여 읽기 전용 오브젝트를 통해 정보를 주고 받는 형태로 주로 설계됨        

<BR>

### **스프링 애플리케이션을 위한 아키텍쳐 설계**
**스프링에서 자주 사용되는 구조**
- 계층형 아키텍쳐
- 도메인 중심 아키텍쳐 

**스프링 개발시 고려 사항**
- 상태 관리 (Stateless Server)
    - 이를 위해 Bean Scope가 기본적으로 Singleton
    - 그러나 Bean Scope를 조정하여 Stateful한 구조도 가능

<BR>
 
스프링은 거의 대부분의 자바 표준 기술과 사용 가능함     
스프링이 지원하는 기술은 다음과 같은 특징을 지니고 있음
1. 해당 기술이 스프링의 DI 패턴을 따라 사용할 수 있다
2. 스프링의 서비스 추상화가 적용됐다
3. 스프링이 지지하는 프로그래밍 모델을 사용했다
4. 템플릿/콜백이 지원된다

**스프링에 가장 잘 어울리는 아키텍쳐는 오브젝트 중심의 아키텍쳐!**
